.o-spreadsheet {
  .o-topbar-composer-container {
    height: $os-desktop-topbar-toolbar-height;
  }

  .o-topbar-composer {
    height: fit-content;
    margin-top: -1px;
    margin-bottom: -1px;
    border: 1px solid;
    font-family: $os-default-font;

    &.o-topbar-composer-inactive {
      border-color: $os-separator-color;
      border-right: none;
    }

    &.o-topbar-composer-active {
      border-color: $os-selection-border-color;
      z-index: $os-components-importance-top-bar-composer;
    }

    /* In readonly we always show the fx icon if the composer is empty, not matter the focus */
    .o-composer:empty:not(:focus):not(.active)::before,
    &.o-topbar-composer-readonly .o-composer:empty::before {
      content: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20121.8%20122.9%27%20width%3D%2716%27%20height%3D%2716%27%20focusable%3D%27false%27%3E%3Cpath%20d%3D%27m28%2034-4%205v2h10l-6%2040c-4%2022-6%2028-7%2030-2%202-3%203-5%203-3%200-7-2-9-4H4c-2%202-4%204-4%207s4%206%208%206%209-2%2015-8c8-7%2013-17%2018-39l7-35%2013-1%203-6H49c4-23%207-27%2011-27%202%200%205%202%208%206h4c1-1%204-4%204-7%200-2-3-6-9-6-5%200-13%204-20%2010-6%207-9%2014-11%2024h-8zm41%2016c4-5%207-7%208-7s2%201%205%209l3%2012c-7%2011-12%2017-16%2017l-3-1-2-1c-3%200-6%203-6%207s3%207%207%207c6%200%2012-6%2022-23l3%2010c3%209%206%2013%2010%2013%205%200%2011-4%2018-15l-3-4c-4%206-7%208-8%208-2%200-4-3-6-10l-5-15%208-10%206-4%203%201%203%202c2%200%206-3%206-7s-2-7-6-7c-6%200-11%205-21%2020l-2-6c-3-9-5-14-9-14-5%200-12%206-18%2015l3%203z%27%20fill%3D%27%23BDBDBD%27/%3E%3C/svg%3E");
      position: relative;
      top: 20%;
    }
  }

  .user-select-text {
    user-select: text;
  }
}
