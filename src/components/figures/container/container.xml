<templates>
  <t t-name="o-spreadsheet-FiguresContainer" owl="1">
    <div>
      <t t-foreach="getVisibleFigures()" t-as="info" t-key="info.id">
        <div
          class="o-figure-wrapper"
          t-att-style="getStyle(info)"
          t-on-mousedown.stop="(ev) => this.onMouseDown(info.figure, ev)">
          <div
            class="o-figure"
            t-att-class="{active: info.isSelected, 'o-dragging': info.id === dnd.figureId}"
            t-att-style="getDims(info)"
            tabindex="0"
            t-on-keydown.stop="(ev) => this.onKeyDown(info.figure, ev)"
            t-on-keyup.stop="">
            <t
              t-component="figureRegistry.get(info.figure.tag).Component"
              t-key="info.id"
              sidePanelIsOpen="props.sidePanelIsOpen"
              onFigureDeleted="props.onFigureDeleted"
              figure="info.figure"
            />
            <t t-if="info.isSelected">
              <div
                class="o-anchor o-top"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, 0,-1, ev)"
              />
              <div
                class="o-anchor o-topRight"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, 1,-1, ev)"
              />
              <div
                class="o-anchor o-right"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, 1,0, ev)"
              />
              <div
                class="o-anchor o-bottomRight"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, 1,1, ev)"
              />
              <div
                class="o-anchor o-bottom"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, 0,1, ev)"
              />
              <div
                class="o-anchor o-bottomLeft"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, -1,1, ev)"
              />
              <div
                class="o-anchor o-left"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, -1,0, ev)"
              />
              <div
                class="o-anchor o-topLeft"
                t-on-mousedown.stop="(ev) => this.resize(info.figure, -1,-1, ev)"
              />
            </t>
          </div>
        </div>
      </t>
    </div>
  </t>
</templates>
