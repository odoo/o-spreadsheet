<templates>
  <t t-name="o-spreadsheet-Menu">
    <Popover t-if="menuItemsAndSeparators.length" t-props="popoverProps">
      <div
        t-ref="menu"
        class="o-menu"
        t-att-style="menuStyle"
        t-on-scroll="onScroll"
        t-on-wheel.stop=""
        t-on-pointerdown.prevent=""
        t-on-click.stop=""
        t-on-mouseover="onMouseOverMainMenu"
        t-on-contextmenu.prevent="">
        <MenuItems
          menuItemsAndSeparators="menuItemsAndSeparators"
          activeMenuItem="activeMenuItem"
          onMenuClicked.bind="onMenuClicked"
          onRootMenuClicked.bind="onRootMenuClicked"
          onMouseEnter.bind="onMouseEnter"
          onMouseOver.bind="onMouseOver"
          onMouseLeave.bind="onMouseLeave"
        />
      </div>
      <Menu
        t-if="subMenu.isOpen"
        t-key="subMenu.parentMenu.id"
        anchorRect="subMenuAnchorRect"
        menuItems="subMenu.menuItems"
        depth="props.depth + 1"
        maxHeight="props.maxHeight"
        onMenuClicked="props.onMenuClicked"
        onClose.bind="close"
        menuId="props.menuId"
        onMouseOver.bind="onMouseOverChildMenu"
        width="props.width"
      />
    </Popover>
  </t>
</templates>
