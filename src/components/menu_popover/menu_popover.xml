<templates>
  <t t-name="o-spreadsheet-Menu-Popover">
    <Popover t-if="props.menuItems" t-props="popoverProps">
      <div
        t-ref="menu"
        tabIndex="-1"
        class="o-menu-wrapper bg-white"
        t-on-mouseover="() => this.onMouseOverMainMenu()"
        t-on-keydown="this.onKeydown">
        <Menu t-props="menuProps"/>
      </div>
      <MenuPopover
        t-if="subMenu.isOpen"
        t-key="subMenu.parentMenu.id"
        anchorRect="subMenuAnchorRect"
        menuItems="subMenu.menuItems"
        depth="props.depth + 1"
        maxHeight="props.maxHeight"
        onMenuClicked="props.onMenuClicked"
        onClose.bind="close"
        menuId="props.menuId"
        onMouseOver.bind="onMouseOverChildMenu"
        width="props.width"
        autoSelectFirstItem="subMenu.autoSelectFirstItem"
        autoFocus="false"
      />
    </Popover>
  </t>
</templates>
