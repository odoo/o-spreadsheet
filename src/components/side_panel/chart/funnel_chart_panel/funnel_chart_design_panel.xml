<templates>
  <t t-name="o-spreadsheet-FunnelChartDesignPanel">
    <GeneralDesignEditor
      figureId="props.figureId"
      definition="props.definition"
      updateChart="props.updateChart">
      <t t-set-slot="general-extension">
        <Section class="'pt-0'" title.translate="Values">
          <Checkbox
            name="'showValues'"
            label.translate="Show values"
            value="props.definition.showValues"
            onChange="(showValues) => props.updateChart(this.props.figureId, { showValues })"
          />
        </Section>
      </t>
    </GeneralDesignEditor>

    <SidePanelCollapsible isInitiallyCollapsed="false" title.translate="Funnel options">
      <t t-set-slot="content">
        <Section class="'o-funnel-colors pt-0'" title.translate="Funnel colors">
          <t t-foreach="getFunnelColorItems()" t-as="item" t-key="item_index">
            <div class="d-flex align-items-center mb-2" t-att-data-id="item_index">
              <RoundColorPicker
                currentColor="item.color"
                onColorPicked="(color) => this.updateFunnelItemColor(item_index, color)"
              />
              <span class="ps-2" t-esc="item.label"/>
            </div>
          </t>
        </Section>
      </t>
    </SidePanelCollapsible>
  </t>
</templates>
