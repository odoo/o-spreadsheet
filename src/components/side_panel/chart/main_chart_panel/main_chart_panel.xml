<templates>
  <t t-name="o-spreadsheet-ChartPanel">
    <div class="o-chart d-flex flex-column h-100" t-if="figureId">
      <div class="o-panel">
        <div
          class="o-panel-element o-panel-configuration"
          t-att-class="store.panel !== 'configuration' ? 'inactive' : ''"
          t-on-click="switchPanel.bind(this, 'configuration')">
          <i class="fa fa-sliders"/>
          Configuration
        </div>
        <div
          class="o-panel-element o-panel-design"
          t-att-class="store.panel !== 'design' ? 'inactive' : ''"
          t-on-click="switchPanel.bind(this, 'design')">
          <i class="fa fa-paint-brush"/>
          Design
        </div>
      </div>

      <t t-set="definition" t-value="getChartDefinition(this.figureId)"/>
      <div class="o-panel-content overflow-y-auto" t-ref="panelContent">
        <div t-att-class="store.panel !== 'configuration' ? 'd-none' : ''">
          <ChartTypePicker figureId="props.figureId" chartPanelStore="store"/>
          <t
            t-component="chartPanel.configuration"
            definition="definition"
            figureId="figureId"
            updateChart.bind="updateChart"
            canUpdateChart.bind="canUpdateChart"
            t-key="figureId + definition.type"
          />
        </div>
        <div t-att-class="store.panel !== 'design' ? 'd-none' : ''">
          <t
            t-component="chartPanel.design"
            definition="definition"
            figureId="figureId"
            updateChart.bind="updateChart"
            canUpdateChart.bind="canUpdateChart"
            t-key="figureId + definition.type"
          />
        </div>
      </div>
    </div>
  </t>
</templates>
