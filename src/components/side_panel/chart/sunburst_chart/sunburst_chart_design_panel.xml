<templates>
  <t t-name="o-spreadsheet-SunburstChartDesignPanel">
    <GeneralDesignEditor t-props="props">
      <t t-set-slot="general-extension">
        <ChartLegend t-props="props"/>
        <Section class="'pt-0'" title.translate="Number formatting">
          <ChartHumanizeNumbers t-props="props"/>
        </Section>
      </t>
    </GeneralDesignEditor>

    <SidePanelCollapsible isInitiallyCollapsed="false" title.translate="Sunburst options">
      <t t-set-slot="content">
        <Section class="'pt-0 o-sunburst-colors'" title.translate="Colors">
          <t t-foreach="groupColors" t-as="item" t-key="item.label">
            <div class="d-flex align-items-center mb-2" t-att-data-id="item.label">
              <RoundColorPicker
                currentColor="item.color"
                onColorPicked="(color) => this.onGroupColorChanged(item_index, color)"
              />
              <span class="ps-2">
                <span t-esc="'(#' + (item_index +1 ) + ')'" class="o-text-bolder pe-1"/>
                <span class="text-muted" t-esc="item.label"/>
              </span>
            </div>
          </t>
        </Section>
        <Section title.translate="Labels" class="'pt-0 pb-0'">
          <div class="d-flex flex-row gap-4">
            <Checkbox
              name="'showLabels'"
              label.translate="Show labels"
              value="showLabels"
              onChange="(showLabels) => props.updateChart(this.props.chartId, { showLabels })"
            />
            <ChartShowValues t-props="props" defaultValue="defaults.showValues"/>
          </div>
        </Section>
        <Section class="'pt-0'" t-if="showValues || showLabels">
          <TextStyler
            class="'o-values-style'"
            updateStyle="(valuesDesign) => props.updateChart(this.props.chartId, { valuesDesign })"
            style="props.definition.valuesDesign || {}"
            defaultStyle="defaults.valuesDesign"
          />
        </Section>
        <PieHoleSize
          value="props.definition.pieHolePercentage ?? 25"
          onValueChange.bind="onPieHoleSizeChange"
        />
      </t>
    </SidePanelCollapsible>
    <ChartAnnotation t-props="this.props"/>
  </t>
</templates>
