<templates>
  <t t-name="o-spreadsheet-DataValidationEditor">
    <div class="o-dv-form w-100 h-100">
      <Section class="'o-dv-range'" title.translate="Apply to range">
        <SelectionInput
          ranges="state.rule.ranges"
          onSelectionChanged="(ranges) => this.onRangesChanged(ranges)"
          required="true"
        />
      </Section>
      <Section class="'pt-0'">
        <div class="o-subsection o-dv-settings">
          <div class="o-section-title">Criteria</div>
          <Select
            class="'o-dv-type mb-2'"
            values="dvCriterionOptions"
            selectedValue="state.rule.criterion.type"
            onChange.bind="onCriterionTypeChanged"
          />
          <t
            t-if="criterionComponent"
            t-component="criterionComponent"
            t-key="state.rule.criterion.type"
            criterion="state.rule.criterion"
            onCriterionChanged.bind="onCriterionChanged"
            autofocus="state.isTypeUpdated"
          />
        </div>
      </Section>

      <Section class="'o-dv-invalid-option pt-0'" title.translate="If the data is invalid">
        <Select
          class="'o-dv-reject-input pt-0'"
          values="isRuleBlockingSelectOptions"
          selectedValue="state.rule.isBlocking ? 'true' : 'false'"
          onChange.bind="changeRuleIsBlocking"
        />
      </Section>

      <Section>
        <div class="o-sidePanelButtons">
          <button t-on-click="onCancel" class="o-dv-cancel o-button">Discard</button>
          <button t-on-click="onSave" class="o-dv-save o-button primary">Save</button>
        </div>
      </Section>
      <Section>
        <ValidationMessages messages="errorMessages" msgType="'error'"/>
      </Section>
    </div>
  </t>
</templates>
