<templates>
  <t t-name="o-spreadsheet-SidePanel">
    <t t-if="props.isCollapsed" t-call="o-spreadsheet-SidePanelCollapsed"/>
    <t t-else="" t-call="o-spreadsheet-SidePanelExtended"/>
  </t>

  <t t-name="o-spreadsheet-SidePanelExtended">
    <div class="o-sidePanel h-100 bg-white border-top border-start">
      <div
        class="o-sidePanelHeader d-flex align-items-center justify-content-between border-bottom">
        <div
          t-if="props.onToggleCollapsePanel"
          class="o-collapse-panel o-sidePanelAction rounded"
          t-on-click="props.onToggleCollapsePanel">
          <i class="fa fa-angle-double-right"/>
        </div>
        <div class="o-sidePanelTitle o-fw-bold ms-2" t-esc="getTitle()"/>
        <div
          t-if="props.isPinned"
          class="o-pin-panel o-sidePanelAction ms-auto rounded active"
          t-on-click="props.onTogglePinPanel">
          <i class="fa fa-thumb-tack"/>
        </div>
        <div class="o-sidePanelClose o-sidePanelAction rounded" t-on-click="props.onCloseSidePanel">
          ✕
        </div>
      </div>
      <div class="o-sidePanelBody-container d-flex flex-grow-1 ">
        <div class="o-sidePanel-handle-container">
          <div
            class="o-sidePanel-handle"
            t-on-pointerdown="props.onStartHandleDrag"
            t-on-dblclick="props.onResetPanelSize">
            <t t-call="o-spreadsheet-Icon.THIN_DRAG_HANDLE"/>
          </div>
        </div>
        <div class="o-sidePanelBody">
          <t
            t-component="props.panelContent.Body"
            t-props="props.panelProps"
            onCloseSidePanel="props.onCloseSidePanel"
          />
        </div>
        <div class="o-sidePanelFooter" t-if="props.panelContent?.Footer">
          <t t-component="props.panelContent.Footer" t-props="props.panelProps"/>
        </div>
      </div>
    </div>
  </t>

  <t t-name="o-spreadsheet-SidePanelCollapsed">
    <div
      class="o-sidePanel collapsed w-100 h-100 bg-white"
      t-on-click="props.onToggleCollapsePanel">
      <div class="d-flex flex-column align-items-center">
        <div
          t-if="props.onToggleCollapsePanel"
          class="o-collapse-panel o-sidePanelAction rounded mb-1">
          <i class="fa fa-angle-double-left"/>
        </div>
        <div
          t-if="props.isPinned"
          class="o-pin-panel o-sidePanelAction ms-auto rounded active"
          t-on-click="props.onTogglePinPanel">
          <i class="fa fa-thumb-tack"/>
        </div>
        <div
          class="o-sidePanelClose o-sidePanelAction rounded mb-1"
          t-on-click.stop="props.onCloseSidePanel">
          ✕
        </div>

        <div class="o-sidePanelTitle o-fw-bold" t-esc="getTitle()"/>
      </div>
    </div>
  </t>
</templates>
