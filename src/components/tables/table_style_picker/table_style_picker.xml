<templates>
  <t t-name="o-spreadsheet-TableStylePicker">
    <div class="o-table-style-picker d-flex flew-row justify-content-between ps-1">
      <div class="d-flex flex-row overflow-hidden">
        <div
          class="o-table-style-list-item"
          t-att-class="{ 'selected': styleId === props.table.config.styleId }"
          t-foreach="getDisplayedTableStyles()"
          t-as="styleId"
          t-key="styleId"
          t-att-title="getStyleName(styleId)"
          t-att-data-id="styleId"
          t-on-click="() => this.onStylePicked(styleId)"
          t-on-contextmenu.prevent="(ev) => this.onContextMenu(ev, styleId)">
          <div class="o-table-style-picker-preview">
            <TableStylePreview
              tableConfig="props.table.config"
              tableStyle="env.model.getters.getTableStyle(styleId)"
            />
          </div>
        </div>
      </div>
      <div
        class="o-table-style-picker-arrow d-flex align-items-center px-1"
        t-on-click.stop="onArrowButtonClick">
        <t t-call="o-spreadsheet-Icon.CARET_DOWN"/>
      </div>
    </div>
    <TableStylesPopover
      tableConfig="props.table.config"
      selectedStyleId="props.table.config.styleId"
      onStylePicked.bind="onStylePicked"
      popoverProps="state.popoverProps"
      closePopover.bind="closePopover"
    />
    <Menu
      t-if="menu.isOpen"
      menuItems="menu.menuItems"
      position="menu.position"
      onClose.bind="this.closeMenu"
    />
  </t>
</templates>
