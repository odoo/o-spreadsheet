<templates>
  <t t-name="o-spreadsheet-TableStylePicker">
    <div class="o-table-style-picker d-flex flew-row justify-content-between ps-1 border rounded">
      <div
        class="d-flex flex-row overflow-hidden"
        t-att-class="props.type === 'pivot' ? 'o-pivot-previews' : 'o-table-previews ps-2'">
        <t t-foreach="getDisplayedTableStyles()" t-as="styleId" t-key="styleId">
          <TableStylePreview
            selected="styleId === props.tableConfig.styleId"
            tableConfig="props.tableConfig"
            tableStyle="props.tableStyles[styleId]"
            styleId="styleId"
            onClick="() => this.onStylePicked(styleId)"
            type="props.type"
          />
        </t>
      </div>
      <div
        class="o-table-style-picker-arrow d-flex align-items-center px-1 border-start"
        t-on-click.stop="onArrowButtonClick">
        <t t-call="o-spreadsheet-Icon.CARET_DOWN"/>
      </div>
    </div>
    <TableStylesPopover
      tableConfig="props.tableConfig"
      selectedStyleId="props.tableConfig.styleId"
      onStylePicked.bind="onStylePicked"
      popoverProps="state.popoverProps"
      closePopover.bind="closePopover"
      tableStyles="props.tableStyles"
      type="props.type"
    />
  </t>
</templates>
